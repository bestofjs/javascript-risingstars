---
import ProjectAvatar from "./project-avatar.astro";
import { formatStarNumber } from "./project-shared.ts";

interface Props {
  index: number;
  project: RisingStars.Project;
  widthPercent: string;
}

const { index, project, widthPercent } = Astro.props;

// const widthPercent = ((project.delta / projects[0].delta) * 100).toFixed();
---

<div slot="summary" class={`project-table-row`}>
  <div class="ranking">{index + 1}</div>
  <div class="inner">
    <div class="icon">
      <ProjectAvatar project={project} size={50} />
    </div>
    <div class="main-column">
      <div class="project-table-bar" style={`width: ${widthPercent}%;`}></div>
      <h3 class="project-name">{project.name}</h3>
      <div class="description">{project.description}</div>
    </div>
    <div class="stars">+{formatStarNumber(project.delta, 1)}â˜†</div>
  </div>
</div>
